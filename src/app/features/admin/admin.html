<div class="container py-4">
  <h2 class="mb-3">Internship Office</h2>
  <ul class="nav nav-tabs mb-3">
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='students'" (click)="selectTab('students')">Students</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='applications'" (click)="selectTab('applications')">Applications</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='requests'" (click)="selectTab('requests')">Requests</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='announcements'" (click)="selectTab('announcements')">Announcements</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='officers'" (click)="selectTab('officers')">Officers</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='faculty'" (click)="selectTab('faculty')">Faculty</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='companies'" (click)="selectTab('companies')">Companies & Site</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='compliance'" (click)="selectTab('compliance')">Log Compliance</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='complaints'" (click)="selectTab('complaints')">Complaints</button></li>
    <li class="nav-item"><button class="nav-link" [class.active]="currentTab==='scheme'" (click)="selectTab('scheme')">Scheme</button></li>
  </ul>

  <!-- Responsibilities now only visible in Officers tab -->
  <div class="row g-3 mb-4" *ngIf="currentTab==='officers'">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-light">Responsibilities</div>
        <div class="card-body">
          <ul class="mb-0 small">
            <li>Establish host organization collaborations (MoUs).</li>
            <li>Match students to placements; maintain records.</li>
            <li>Assign faculty and site supervisors.</li>
            <li>Manage complaints and feedback loops.</li>
            <li>Support tooling (Git, tracking, documentation).</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Unified tab content switcher to ensure isolation -->
  <ng-container [ngSwitch]="currentTab">
    <!-- Students Tab Simplified -->
    <div class="row g-3" *ngSwitchCase="'students'">
      <div class="col-12">
        <div class="card">
          <div class="card-header bg-light">Students</div>
          <div class="card-body p-0">
            <div class="table-responsive">
              <table class="table table-striped table-sm mb-0 align-middle">
                <thead><tr><th>Name</th><th>Email</th><th>Approved</th></tr></thead>
                <tbody>
                  @for (s of (students() | paginate: page.students : pageSize); track s.id) {
                  <tr>
                    <td>{{ s.name }}</td>
                    <td>{{ s.email }}</td>
                    <td><span class="badge" [class.text-bg-success]="s.approved" [class.text-bg-secondary]="!s.approved">{{ s.approved ? 'Yes' : 'No' }}</span></td>
                  </tr>
                  }
                </tbody>
              </table>
            </div>
            <div class="p-2">
              <app-paginator [total]="students().length" [(page)]="page.students" [pageSize]="pageSize"></app-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Applications Tab -->
    <div class="row g-3" *ngSwitchCase="'applications'">
      <div class="col-12">
        <div class="card">
          <div class="card-header bg-light">Applications (Approval Forms)</div>
          <div class="card-body">
            <div class="form-check form-switch mb-2">
              <input class="form-check-input" type="checkbox" id="pendOnly" [(ngModel)]="showPendingOnly">
              <label class="form-check-label" for="pendOnly">Show only pending</label>
            </div>
            <div class="table-responsive">
              <table class="table table-sm align-middle">
                <thead><tr><th>Student</th><th>Submitted</th><th>Status</th><th>Comment</th><th>Decision</th></tr></thead>
                <tbody>
                  @for (s of students(); track s.id) {
                  <tr [hidden]="!showInApplications(s.id)">
                    <td>
                      <div><strong>{{ s.name }}</strong> <span class="text-muted small">({{ s.email }})</span></div>
                      @if (latestApproval(s.id); as a) {<div class="small text-muted">v{{ a.version }} — {{ a.company.name || '-' }} — {{ a.internship.startDate }} → {{ a.internship.endDate }}</div>}
                    </td>
                    <td>{{ latestApproval(s.id)?.createdAt | date:'short' }}</td>
                    <td>
                      <span class="badge" [class.text-bg-secondary]="!latestApproval(s.id)?.status || latestApproval(s.id)?.status==='pending'" [class.text-bg-success]="latestApproval(s.id)?.status==='approved'" [class.text-bg-danger]="latestApproval(s.id)?.status==='rejected'">{{ latestApproval(s.id)?.status || 'pending' }}</span>
                    </td>
                    <td><input class="form-control form-control-sm" [(ngModel)]="approvalComment[s.id]" placeholder="Comment" name="ac{{s.id}}" /></td>
                    <td>
                      <div class="d-flex gap-2">
                        <select class="form-select form-select-sm" [(ngModel)]="approvalDecision[s.id]" name="ad{{s.id}}" style="width:120px">
                          <option [ngValue]="''">Choose…</option>
                          <option [ngValue]="'approved'">Approve</option>
                          <option [ngValue]="'rejected'">Reject</option>
                        </select>
                        <button class="btn btn-sm btn-outline-primary" (click)="reviewApproval(s.id)">Apply</button>
                      </div>
                    </td>
                  </tr>
                  }
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-light">Applications (Approval Forms)</div>
        <div class="card-body">
          <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="pendOnly" [(ngModel)]="showPendingOnly">
            <label class="form-check-label" for="pendOnly">Show only pending</label>
          </div>
          <div class="table-responsive">
            <table class="table table-sm align-middle">
              <thead>
                <tr><th>Student</th><th>Submitted</th><th>Status</th><th>Officer Comment</th><th>Actions</th></tr>
              </thead>
              <tbody>
                @for (s of students(); track s.id) {
                <tr [hidden]="!showInApplications(s.id)">
                  <td>
                    <div><strong>{{ s.name }}</strong> <span class="text-muted small">({{ s.email }})</span></div>
                    @if (latestApproval(s.id); as a) {
                    <div class="small text-muted">v{{ a.version }} — Company: {{ a.company.name || '-' }} — {{ a.internship.startDate }} → {{ a.internship.endDate }}</div>
                    }
                  </td>
                  <td>{{ latestApproval(s.id)?.createdAt | date:'short' }}</td>
                  <td>
                    <span class="badge"
                      [class.text-bg-secondary]="!latestApproval(s.id)?.status || latestApproval(s.id)?.status==='pending'"
                      [class.text-bg-success]="latestApproval(s.id)?.status==='approved'"
                      [class.text-bg-danger]="latestApproval(s.id)?.status==='rejected'">
                      {{ latestApproval(s.id)?.status || 'pending' }}
                    </span>
                    @if (latestApproval(s.id)?.resolvedAt) {
                    <div class="small text-muted">{{ latestApproval(s.id)?.resolvedAt | date:'short' }}</div>
                    }
                  </td>
                  <td class="w-25">
                    <input class="form-control form-control-sm" placeholder="Comment (optional)" [(ngModel)]="approvalComment[s.id]" name="ac{{s.id}}" />
                  </td>
                  <td>
                    <div class="d-flex gap-2">
                      <select class="form-select form-select-sm" style="width:140px" [(ngModel)]="approvalDecision[s.id]" name="ad{{s.id}}">
                        <option [ngValue]="''">Choose…</option>
                        <option [ngValue]="'approved'">Approve</option>
                        <option [ngValue]="'rejected'">Reject</option>
                      </select>
                      <button class="btn btn-sm btn-outline-primary" (click)="reviewApproval(s.id)">Apply</button>
                    </div>
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scheme Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'scheme'">
    <div class="col-12">
      <div class="alert alert-info">
        <div class="fw-semibold">Evaluation Scheme</div>
        <ul class="mb-0">
          <li><strong>On-site / Virtual:</strong> Site Supervisor (40) + Faculty Supervisor (40) + Internship Office (20). Office sub-breakdown: Proposal 5, Weekly Logs 5, Final Report 10.</li>
          <li><strong>Freelancing (Fiverr/Upwork):</strong> Supervisor (60) + Internship Office (40). Office sub-breakdown still 5+5+10 but auto-scales to 40.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Compliance Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'compliance'">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-light">Internship Evaluation Committee (20% Weightage)</div>
        <div class="card-body">
          <p class="mb-2"><strong>Composition:</strong> Notified by the HoD under the convenorship of the In-charge Internship Office with other members as deemed fit.</p>
          <p class="mb-2"><strong>Role:</strong> Evaluate internship report, weekly logs, and technical contribution.</p>
          <p class="mb-0"><strong>Grading:</strong> Assigns 20% of total marks (15% Report Submission, 5% Weekly Log) and submits results to the Internship Office for final processing.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Weekly Log Compliance moved to Compliance tab to avoid duplication in Students tab -->

  <!-- Complaints tab: list student complaints and allow resolution -->
  <!-- Complaints Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'complaints'">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-light">Complaints & Grievances</div>
        <div class="card-body">
          <p class="text-muted">Respond to student complaints submitted to the Internship Office.</p>
          <div class="table-responsive">
            <table class="table table-sm align-middle">
              <thead><tr><th>Date</th><th>Student</th><th>Category</th><th>Message</th><th>Status</th><th>Response</th><th>Action</th></tr></thead>
              <tbody>
                @for (c of complaints(); track c.id) {
    <div class="col-12 mt-3">
      <div class="card">
        <div class="card-header bg-light">Weekly Log Compliance</div>
        <div class="card-body">
          <p class="text-muted">Expected vs submitted weekly logs based on approval start date.</p>
          <div class="table-responsive">
            <table class="table table-sm align-middle">
              <thead>
                <tr><th>Student</th><th>Start</th><th>Expected Weeks</th><th>Submitted</th><th>Status</th></tr>
              </thead>
              <tbody>
                @for (s of students(); track s.id) {
                <tr>
                  <td>{{ s.name }} <span class="text-muted small">({{ s.email }})</span></td>
                  <td>{{ startDateString(s.id) }}</td>
                  <td>{{ expectedWeeks(s.id) }}</td>
                  <td>{{ logsCount(s.id) }}</td>
                  <td>
                    <span class="badge" [class.text-bg-success]="hasLogThisWeek(s.id)" [class.text-bg-danger]="!hasLogThisWeek(s.id)">
                      {{ hasLogThisWeek(s.id) ? 'This week submitted' : 'Missing this week' }}
                    </span>
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
                <tr>
                  <td>{{ c.createdAt | date:'short' }}</td>
                  <td>{{ studentName(c.studentId) }}</td>
                  <td>{{ c.category }}</td>
                  <td style="max-width:280px">{{ c.message }}</td>
                  <td>
                    <span class="badge" [class.text-bg-secondary]="c.status==='open'" [class.text-bg-success]="c.status==='resolved'">{{ c.status }}</span>
                  </td>
                  <td style="max-width:260px">{{ c.response || '-' }}</td>
                  <td>
                    @if (c.status==='open') {
                      <div class="input-group input-group-sm">
                        <input class="form-control" placeholder="Type response..." [(ngModel)]="responses[c.id]" name="resp{{c.id}}" />
                        <button class="btn btn-outline-success" (click)="resolve(c.id)">Resolve</button>
                      </div>
                    }
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Requests tab: faculty-submitted requests for companies or site supervisors -->
  <!-- Requests Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'requests'">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-light">Requests from Faculty</div>
        <div class="card-body">
          <p class="text-muted">Review requests to add Companies or Site Supervisors submitted by faculty supervisors.</p>
          <div class="table-responsive">
            <table class="table table-sm align-middle">
              <thead>
                <tr>
                  <th>When</th>
                  <th>Type</th>
                  <th>Details</th>
                  <th>Requested By</th>
                  <th>Status</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                @for (r of requests(); track r.id) {
                <tr>
                  <td>{{ r.createdAt | date:'short' }}</td>
                  <td>
                    <span class="badge" [class.text-bg-primary]="r.type==='company'" [class.text-bg-info]="r.type==='site'">{{ r.type | titlecase }}</span>
                  </td>
                  <td>
                    @if (r.type==='company') {
                      <div><strong>{{ r.name }}</strong></div>
                      <div class="text-muted small">{{ r.address || '-' }}</div>
                    } @else {
                      <div><strong>{{ requestPrimary(r) }}</strong></div>
                      <div class="text-muted small">{{ requestSecondary(r) }}</div>
                    }
                  </td>
                  <td>{{ facultyName(r.requestedByFacultyId) }}</td>
                  <td>
                    <span class="badge"
                      [class.text-bg-secondary]="r.status==='pending'"
                      [class.text-bg-success]="r.status==='approved'"
                      [class.text-bg-danger]="r.status==='rejected'">
                      {{ r.status }}
                    </span>
                    @if (r.resolvedAt) {
                    <div class="small text-muted">{{ r.resolvedAt | date:'short' }}</div>
                    }
                  </td>
                  <td>
                    @if (r.status==='pending') {
                      <div class="d-flex gap-2">
                        <button class="btn btn-sm btn-outline-success" (click)="approveRequest(r.id)">Approve</button>
                        <button class="btn btn-sm btn-outline-danger" (click)="rejectRequest(r.id)">Reject</button>
                      </div>
                    } @else {
                      <div class="small text-muted">—</div>
                    }
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Announcements tab: create and manage announcements -->
  <!-- Announcements Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'announcements'">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-light">Announcements</div>
        <div class="card-body">
          <div class="row g-2 align-items-end">
            <div class="col-md-3">
              <label class="form-label">Title (optional)</label>
              <input class="form-control" [(ngModel)]="announcement.title" name="atitle" />
            </div>
            <div class="col-md-5">
              <label class="form-label">Message</label>
              <input class="form-control" [(ngModel)]="announcement.message" name="amsg" placeholder="e.g., Weekly log window extended till Friday" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Link (optional)</label>
              <input class="form-control" [(ngModel)]="announcement.link" name="alink" placeholder="https://..." />
            </div>
            <div class="col-md-1">
              <div class="form-check mt-4">
                <input class="form-check-input" type="checkbox" [(ngModel)]="announcement.pinned" name="apinned" id="apinned">
                <label class="form-check-label" for="apinned">Pin</label>
              </div>
            </div>
            <div class="col-12 col-md-2 mt-2 mt-md-0">
              <button class="btn btn-primary w-100" (click)="addAnnouncement()">Publish</button>
            </div>
          </div>

          @if (announcements(); as anns) {
            <div class="table-responsive mt-3">
              <table class="table table-sm align-middle">
                <thead><tr><th>When</th><th>Title</th><th>Message</th><th>Link</th><th>Pinned</th><th>Actions</th></tr></thead>
                <tbody>
                  @for (a of anns; track a.id) {
                  <tr>
                    <td class="small text-muted">{{ a.createdAt | date:'short' }}</td>
                    <td>{{ a.title || '-' }}</td>
                    <td style="max-width:420px">{{ a.message }}</td>
                    <td>
                      @if (a.link) { <a [href]="a.link" target="_blank" rel="noopener">Open</a> } @else { <span class="text-muted">—</span> }
                    </td>
                    <td>
                      <span class="badge" [class.text-bg-primary]="a.pinned" [class.text-bg-secondary]="!a.pinned">{{ a.pinned ? 'Yes' : 'No' }}</span>
                    </td>
                    <td>
                      <div class="d-flex gap-2">
                        <button class="btn btn-sm btn-outline-secondary" (click)="togglePinned(a.id)">{{ a.pinned ? 'Unpin' : 'Pin' }}</button>
                        <button class="btn btn-sm btn-outline-danger" (click)="removeAnnouncement(a.id)">Remove</button>
                      </div>
                    </td>
                  </tr>
                  }
                </tbody>
              </table>
            </div>
          }
        </div>
      </div>
    </div>
  </div>

  <!-- Removed duplicate global Announcements block; announcements now live under the Announcements tab only -->

  <!-- Officers Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'officers'">
  <hr class="my-4" />
  <h3 class="mb-3">Internship Officers</h3>
  <div class="row g-3 align-items-end">
    <div class="col-md-4">
      <label class="form-label">Name</label>
      <input class="form-control" [(ngModel)]="officer.name" name="oname" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" [(ngModel)]="officer.email" name="oemail" />
    </div>
    <div class="col-md-4">
      <button class="btn btn-primary" (click)="addOfficer()">Add Officer</button>
    </div>
  </div>
  <ul class="list-group mt-3">
    @for (o of officers(); track o.email) {
    <li class="list-group-item d-flex justify-content-between align-items-center">{{ o.name }} <span class="text-muted">{{ o.email }}</span></li>
    }
  </ul>
  <div class="row g-3 align-items-end mt-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-light">Add Internship Officer </div>
        <div class="card-body">
          <div class="row g-3 align-items-end">
            <div class="col-md-4">
              <label class="form-label">Name</label>
              <input class="form-control" [(ngModel)]="adminAccount.name" name="aname" />
            </div>
            <div class="col-md-4">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" [(ngModel)]="adminAccount.email" name="aemail" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Password</label>
              <input type="password" class="form-control" [(ngModel)]="adminAccount.password" name="apass" />
            </div>
            <div class="col-md-1 d-grid">
              <button class="btn btn-outline-primary" [disabled]="creatingAdmin" (click)="createAdminAccount()">
                {{ creatingAdmin ? 'Adding…' : 'Add' }}
              </button>
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </div>

  <!-- Faculty Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'faculty'">
  <hr class="my-4" />
  <h3 class="mb-3">Faculty Supervisors</h3>
  <div class="row g-3 align-items-end">
    <div class="col-md-4">
      <label class="form-label">Name</label>
      <input class="form-control" [(ngModel)]="faculty.name" name="fname" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" [(ngModel)]="faculty.email" name="femail" />
    </div>
    <div class="col-md-3">
      <label class="form-label">Department</label>
      <input class="form-control" [(ngModel)]="faculty.department" name="fdept" />
    </div>
    <div class="col-md-3">
      <label class="form-label">Password</label>
      <input type="password" class="form-control" [(ngModel)]="faculty.password" name="fpass" />
    </div>
    <div class="col-md-1 d-grid">
      <button class="btn btn-primary" (click)="addFaculty()">Add</button>
    </div>
  </div>
  <ul class="list-group mt-3">
    @for (f of facultyList(); track f.id) {
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div class="me-2">
        <div>{{ f.name }} — <span class="text-muted">{{ f.email }}</span></div>
        <div class="small text-muted">Password: {{ f.password ? 'set' : 'not set' }}</div>
      </div>
      <div class="d-flex gap-2 align-items-center">
        <input class="form-control form-control-sm" style="width:160px" placeholder="New password" [(ngModel)]="facultyNewPw[f.id]" name="fpw{{f.id}}" />
        <button class="btn btn-sm btn-outline-secondary" (click)="setFacultyPassword(f.id)">Set Password</button>
        <button class="btn btn-sm btn-outline-danger" (click)="removeFaculty(f.id)">Remove</button>
      </div>
    </li>
    }
  </ul>

  <!-- Companies Tab -->
  <div class="row g-3 mt-0" *ngSwitchCase="'companies'">
  <hr class="my-4" />
  <h3 class="mb-3">Companies & Site Supervisors</h3>
  <div class="row g-3 align-items-end">
    <div class="col-md-5">
      <label class="form-label">Company Name</label>
      <input class="form-control" [(ngModel)]="company.name" name="cname2" />
    </div>
    <div class="col-md-5">
      <label class="form-label">Address</label>
      <input class="form-control" [(ngModel)]="company.address" name="caddr2" />
    </div>
    <div class="col-md-2">
      <button class="btn btn-primary w-100" (click)="addCompany()">Add Company</button>
    </div>
  </div>
  <div class="row g-3 align-items-end mt-2">
    <div class="col-md-3">
      <label class="form-label">Site Supervisor</label>
      <input class="form-control" [(ngModel)]="site.name" name="sname2" />
    </div>
    <div class="col-md-3">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" [(ngModel)]="site.email" name="semail2" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Company</label>
      <select class="form-select" [(ngModel)]="site.companyId" name="scid2">
        <option [ngValue]="''">Select company...</option>
        @for (c of companyList(); track c.id) {
        <option [ngValue]="c.id">{{ c.name }}</option>
        }
      </select>
    </div>
    <div class="col-md-2">
      <label class="form-label">Password</label>
      <input type="password" class="form-control" [(ngModel)]="site.password" name="spass2" />
    </div>
    <div class="col-md-2 d-grid">
      <button class="btn btn-primary" (click)="addSite()">Add Site</button>
    </div>
  </div>
  <div class="table-responsive mt-3">
    <table class="table table-sm">
      <thead><tr><th>Company</th><th>Site Supervisor</th><th>Email</th><th>Password</th><th>Actions</th></tr></thead>
      <tbody>
        @for (t of siteList(); track t.id) {
        <tr>
          <td>{{ companyName(t.companyId) }}</td>
          <td>{{ t.name }}</td>
          <td>{{ t.email }}</td>
          <td class="text-muted small">{{ t.password ? 'set' : 'not set' }}</td>
          <td>
            <div class="d-flex gap-2 align-items-center">
              <input class="form-control form-control-sm" style="width:160px" placeholder="New password" [(ngModel)]="siteNewPw[t.id]" name="spw{{t.id}}" />
              <button class="btn btn-sm btn-outline-secondary" (click)="setSitePassword(t.id)">Set Password</button>
              <button class="btn btn-sm btn-outline-danger" (click)="removeSite(t.id)">Remove</button>
            </div>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  <div class="table-responsive mt-3">
    <table class="table table-sm">
      <thead><tr><th>Company</th><th>Address</th><th>Actions</th></tr></thead>
      <tbody>
        @for (c of companyList(); track c.id) {
        <tr>
          <td>{{ c.name }}</td>
          <td>{{ c.address || '-' }}</td>
          <td><button class="btn btn-sm btn-outline-danger" (click)="removeCompany(c.id)">Remove</button></td>
        </tr>
        }
      </tbody>
    </table>
  </div> <!-- end companies tab -->
  </ng-container>
</div>
